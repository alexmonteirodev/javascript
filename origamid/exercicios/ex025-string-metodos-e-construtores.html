<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>

    <script>
// String:
        //É a construtora de strings, toda string possui as propriedades e métodos do prototype de String.
//-----------------------------------------------------------------------------------------------------

    //str.lenght:
        //Propriedade com o total de caracteres da string.
        const comida = 'Pizza' //retorna string
        const agua = new String('Agua') // retorna objeto
        //mas ambos são strings (constructor.name) o mais usado é o .lenght que retorna a quantidade de caracteres:
        console.log(comida.length)
        
        // da pra acessar a string como se fosse um array:
        const frase = 'A melhor comida'
        console.log(frase[0]) //espaço tbm conta
        console.log(frase[frase.length -1]) //último caracter - a
//-----------------------------------------------------------------------------------------------------

    //str.charAt(n)
        //retorna o caracter de acordo com o index de (n). "como se fosse usar um array[]"

        const linguagem = 'JavaScript'
        linguagem.charAt(0) // J
        linguagem.charAt(2) // v
        linguagem.charAt(linguagem.length-1) // t
//-----------------------------------------------------------------------------------------------------
    
    //str.concat(str2, str3, ...)
        // Concatena as strings e retorna o resultado. (mais facil usar o + para concatenar)
        const frase1 = 'A melhor linguagem é'
        const frase2 = ' JavaScript'

        const fraseCompleta = frase1.concat(frase2, '!!') //ou frase1 + frase2
        console.log(fraseCompleta)
//-----------------------------------------------------------------------------------------------------
    
    //str.includes(search, position)
        //procura pela string exata dentro de outra string. A procura é case sensitive ('Ba' != 'ba').

        const fruta = 'banana'
        const listaFrutas = 'melancia, banana, laranja'

        listaFrutas.includes(fruta) // true
        fruta.includes(listaFrutas) // false

        //position = começa a procurar a partir do index x
        listaFrutas.includes(fruta,11) // false - porque do 11 pra frente não tem banana escrito (primeiro a de b"a"nana, a partir daí a palavra banana não existe mais )
//-----------------------------------------------------------------------------------------------------

    //str.ednsWith(search) e str.starsWith(search)
        // começa com e termia com. A procura é case sesitive (letra igual). obs: não altera a string só retorna uma resposta

        const carro = 'ford'
        
        carro.endsWith('rd') //true
        carro.endsWith('r') //false
        carro.startsWith('fo') // true
        carro.startsWith('fr') // false
//-----------------------------------------------------------------------------------------------------

        //str.slice(start, end)
            //corta a string de acordo com os valores de start e end.

            const transacao1 = 'Depósito de cliente'
            const transacao2 = 'Depósito de fornecedor'
            const transacao3 = 'Taxa de camisas'

            transacao1.slice(0,3) // Dep
            transacao1.slice(5) //ito de cliente (corta os 5 primeiros caracteres) obs: não corta o index e sim o caracter
            transacao1.slice(0,-2) //Depósito de clien (corta os dois últimos caracteres)
            transacao1.slice(-5) //iente (me da os 5 últimos caracteres)

            //obs: tem o str.substring(start, end) que é a mesma coisa que o slice mas não funciona com numero negativo
//-----------------------------------------------------------------------------------------------------

        //str.indexOf(search) e str.lastIndexOf(search)
            // Retorna o index da string, assim que achar o primeiro resultado ele já retorna. NO caso do lastIndexOf ele retorna o último resultado.

            const instrumento = 'Guitarra'

            instrumento.indexOf('i') // 2
            instrumento.lastIndexOf('r') // 6
//-----------------------------------------------------------------------------------------------------

        //str.padStart(n, str) e str.padEnd(n, str)
            //Aumenta o tamanho da string para o valor de n. Ou seja, uma string com 8 caracteres, se passarmos n = 10, ela passará a ter 10 caracteres. O preenchimento é feito com espaços, caso não seja declarado o segundo argumento.

            const listaPrecos = ['R$ 99', 'R$ 199', 'R$ 12000'];

            listaPrecos[0].padStart(10, '.') // '.....R$ 99'
            listaPrecos[0].padEnd(10, '.') // 'R$ 99.....'

            listaPrecos.forEach((params) => {
                console.log(params.padStart(30, '.'))
            })
//-----------------------------------------------------------------------------------------------------

        //str.repeat(n)
            // repete a string (n) vezes

            const frase3 = 'Ta'
            frase3.repeat(5) // 'TaTaTaTaTa'
//-----------------------------------------------------------------------------------------------------

        //str.replace(regexp|substr, newstr|function)
            //Troca parte da string por outra. Podemos utilizar uma regular expression ou um valor direto. Se usarmos um valor direto ele irá trocar apenas o primeiro valor que encontrar.

            let listaItens = 'Camisas Bonés Calças Bermudas Vestidos Saias';
            listaItens = listaItens.replace(/[ ]+/g, ', ');
            console.log(listaItens)
            
            let preco = 'R$ 1200,43';
            preco = preco.replace(',', '.'); // 'R$ 1200.43'
//-----------------------------------------------------------------------------------------------------

        //str.split(padrao)
            //Divide a string de acordo com o padrão passado e retorna uma array.

            const listaRoupas = 'Camisas, Bonés, Calças, Bermudas, Vestidos, Saias'

            console.log(listaRoupas.split(', ')) //', + espaço', onde tiver o que eu coloquei nos parentes, vai cortar e criar um array

            const arrayListaRoupas = listaRoupas.split(', ')

            //exemplo2:
            const htmlText = '<div>O melhor item</div><div>A melhor lista</div>';
            const htmlArray = htmlText.split('div');
            const htmlNovo = htmlArray.join('section'); //join() é um método de array que add algo no final do item, no caso como foi retirado o item div, se adiciona no lugar e assim muda a tag
//-----------------------------------------------------------------------------------------------------

        //str.toLowerCase() e str.toUpperCase()
            //Retorna a string em letras maiúsculas ou minúsculas. Bom para verificarmos input de usuários.

            const sexo1 = 'Feminino';
            const sexo2 = 'feminino';
            const sexo3 = 'FEMININO';

            sexo1.toLowerCase() === 'feminino' // true
            sexo2.toUpperCase() === 'FEMININO' // true
//-----------------------------------------------------------------------------------------------------

        // str.trim(), str.trimStart(), str.trimEnd()
            //Remove espaço em branco do início ou final de uma string. O que tiver dentro da string ele não remove.

            const valor = '  R$ 23.00   ' 
            valor.trim(); // 'R$ 23.00' - remove do inicio e do final
            valor.trimStart(); // 'R$ 23.00   ' - remove do inicio
            valor.trimEnd(); // '  R$ 23.00' - remove do final
//-----------------------------------------------------------------------------------------------------

        // EXERCICIOS:

        // Utilizando o foreach na array abaixo, some os valores de Taxa e os valores de Recebimento

        const transacoes = [
        {
            descricao: 'Taxa do Pão',
            valor: 'R$ 39',
        },
        {
            descricao: 'Taxa do Mercado',
            valor: 'R$ 129',
        },
        {
            descricao: 'Recebimento de Cliente',
            valor: 'R$ 99',
        },
        {
            descricao: 'Taxa do Banco',
            valor: 'R$ 129',
        },
        {
            descricao: 'Recebimento de Cliente',
            valor: 'R$ 49',
        },
        ]; 

        function limparValores(params) {
            return +params.valor.replace('R$','').trim() //limpou mas continua sendo string e com o + na frente converte para numero se tirar o + da pra ver pelo console que ele concatena ao em vez de somar ou englobar tudo em () e usar o Number
        }

        let totalTaxas = 0
        let totalReceb = 0

        transacoes.forEach((params) => {
            const valoresLimpos = limparValores(params)
            if (params.descricao.slice(0,4) === 'Taxa') { //includes('Taxa') não é tão bom pq poderia ter escrito taxa em algum recebimento e já daria errado
                totalTaxas += valoresLimpos //+ para converter para numero
            } if (params.descricao.slice(0,4) === 'Rece') {
                totalReceb += valoresLimpos
            } 
        })
        console.log(`Total de taxas é R$ ${totalTaxas}`)
        console.log(`Total de recebimentos é R$ ${totalReceb}`)



        // Retorne uma array com a lista abaixo
        const transportes = 'Carro;Avião;Trem;Ônibus;Bicicleta';

        // Substitua todos os span's por a's
        const html = `<ul>
                        <li><span>Sobre</span></li>
                        <li><span>Produtos</span></li>
                        <li><span>Contato</span></li>
                    </ul>`;

        // Retorne o último caracter da frase
        const frase4 = 'Melhor do ano!';

        // Retorne o total de taxas
        const transacoes2 = ['Taxa do Banco', '   TAXA DO PÃO', '  taxa do mercado', 'depósito Bancário', 'TARIFA especial'];




    </script>
</body>
</html>